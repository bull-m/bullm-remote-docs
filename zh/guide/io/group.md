# 电机驱动（组合）

组合依赖pwm和电平输出，会使用一个或多个pwm和电平组合成一个新的设备，主要是用于驱动一些驱动芯片，例：L298N, L9110S，BTS7960B等

> **数值范围：0 ~ 255**  
> **id前缀：`g:`**

## 配置

- **名称*：** 名称
- **类型*：** [驱动类型](#类型)
- **是否自动刹车：** 停止时会利用驱动进行电子刹车，部分驱动可能不支持
- **是否反转：** 反转电机
- **引脚...：** 连接驱动的引脚 (pwm和电平) (pwm输出引脚也可作为电平输出引脚使用)

<br/>

_配置页面_  
![组合配置](./assets/group_list.png)  
![组合配置](./assets/group.png)

## 类型

### 2PWM和2电平

> 代表驱动：两BTS7960B

这些组合主要是用于控制H桥电路，例如使用两个BTS7960B组成的H桥

| 行为 | EN_A | EN_B | PWM_A | PWM_B |
|----|------|------|-------|-------|
| 正转 | 1    | 1    | PWM   | 0     |
| 反转 | 1    | 1    | 0     | PWM   |
| 刹车 | 1    | 1    | 1     | 1     |
| 停止 | 0    | 0    | 0     | 0     |

### 1PWM和2电平

> 代表驱动：L298N，TB6612FNG

通过1个PWM信号控制电机的转速，2个电平信号控制电机的方向：

| 行为 | A | B | PWM |
|----|---|---|-----|
| 正转 | 1 | 0 | PWM |
| 反转 | 0 | 1 | PWM |
| 刹车 | 1 | 1 | 0   |
| 停止 | 0 | 0 | 0   |

### 2PWM

> 代表驱动：L9110S，DRV8833

通过2个PWM信号控制电机的转速与方向

| 行为 | PWM_A | PWM_B |
|----|-------|-------|
| 正转 | PWM   | 0     |
| 反转 | 0     | PWM   |
| 刹车 | 1     | 1     |
| 停止 | 0     | 0     |

### 1PWM

主要是对PWM进行的映射，详看下面这表格

| 行为 | PWM        | 
|----|------------|
| 正转 | 50% ~ 100% |
| 反转 | 0% ~ 50%   | 
| 停止 | 50%        | 


